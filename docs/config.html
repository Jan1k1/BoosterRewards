<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Configuration - BoosterRewards Wiki</title>
  <link rel="stylesheet" href="wiki.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>

<body>
  <div class="wiki-header">
    <div class="header-content">
      <h1>BoosterRewards Wiki</h1>
      <nav class="header-nav">
        <a href="https://github.com/jan1k1/BoosterRewards">GitHub</a>
        <a href="https://discord.gg/38Ebj42e">Discord</a>
        <a href="https://github.com/jan1k1/BoosterRewards/releases">Download</a>
        <a href="https://github.com/jan1k1.png" style="padding: 0;"><img src="https://github.com/jan1k1.png"
            style="width: 24px; height: 24px; border-radius: 50%; vertical-align: middle;"></a>
      </nav>
    </div>
  </div>

  <div class="wiki-container">
    <aside class="wiki-sidebar">
      <nav>
        <div class="nav-section">
          <h3>Getting Started</h3>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="installation.html">Installation</a></li>
            <li><a href="quick-start.html">Quick Start</a></li>
          </ul>
        </div>

        <div class="nav-section">
          <h3>Configuration</h3>
          <ul>
            <li><a href="config.html" class="active">config.yml</a></li>
            <li><a href="discord.html">discord.yml</a></li>
            <li><a href="messages.html">messages.yml</a></li>
          </ul>
        </div>

        <div class="nav-section">
          <h3>Usage</h3>
          <ul>
            <li><a href="commands.html">Commands</a></li>
            <li><a href="permissions.html">Permissions</a></li>
            <li><a href="placeholders.html">Placeholders</a></li>
          </ul>
        </div>

        <div class="nav-section">
          <h3>Examples</h3>
          <ul>
            <li><a href="basic-setup.html">Basic Setup</a></li>
            <li><a href="advanced-rewards.html">Advanced Rewards</a></li>
          </ul>
        </div>

        <div class="nav-section">
          <h3>Help</h3>
          <ul>
            <li><a href="troubleshooting.html">Troubleshooting</a></li>
            <li><a href="faq.html">FAQ</a></li>
          </ul>
        </div>
      </nav>
    </aside>

    <main class="wiki-content">
      <h1>Configuration (config.yml)</h1>

      <p>The <code>config.yml</code> file controls the core behavior of the plugin, including database settings,
        reward definitions, and synchronization timings.</p>

      <div class="code-window">
        <div class="code-header">
          <div class="dot red"></div>
          <div class="dot yellow"></div>
          <div class="dot green"></div>
          <div class="code-title">config.yml</div>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        </div>
        <pre><code class="language-yaml"># =============================================================================
#    ____                   _            _____ZX______
#   |  _ \                 | |          |  __ \ZX_____\
#   | |_) | ___   ___  ___ | |_ ___ _ __| |__) |_____
#   |  _ < / _ \ / _ \/ __|| __/ _ \ '__|  _  // _ \ \ /\ / / _` | '__/ _` |/ __|
#   | |_) | (_) | (_) \__ \| ||  __/ |  | | \ \  __/\ V  V / (_| | | | (_| \__ \
#   |____/ \___/ \___/|___/ \__\___|_|  |_|  \_\___| \_/\_/ \__,_|_|  \__,_|___/
#                         MAIN CONFIGURATION FILE
# =============================================================================
# Need help? Create a ticket at: https://discord.gg/38Ebj42e
# Documentation: https://jan1k1.github.io/BoosterRewards
#Config Version (Do not change)
config-version: 1
# =============================================================================

# =============================================================================
# AVAILABLE PLACEHOLDERS
# =============================================================================
# You can use these placeholders in reward commands and messages:
#
#   %player%         - The Minecraft username of the player
#   %uuid%           - The player's Minecraft UUID
#   %discord_user%   - The player's Discord username (e.g., "jan1k")
#   %discord_id%     - The player's Discord User ID (e.g., "123456789012345678")
#   %boost_start%    - Timestamp when the player started boosting
#   %boost_duration% - How long the player has been boosting (e.g., "3 days")
#
# =============================================================================


# =============================================================================
# DATABASE SETTINGS
# =============================================================================
# The plugin needs a database to store linked accounts and boost data.
#
# SUPPORTED TYPES:
#   - H2       (Default, file-based, no setup required)
#   - MYSQL    (Remote database, requires server details)
#   - MARIADB  (Same as MySQL, just a different database engine)
#
# For small servers (under 100 players), H2 is perfectly fine.
# For large networks, use MySQL/MariaDB for better performance.
# =============================================================================
database:
  # Database type: H2, MYSQL, or MARIADB
  type: H2
  
  # MySQL/MariaDB connection settings (ignored if using H2)
  host: "localhost"
  port: 3306
  database: "boosterrewards"
  username: "root"
  password: ""
  
  # Advanced settings
  table-prefix: "booster_"  # Prefix for database tables (useful if sharing a database)
  pool-size: 10           # Max number of database connections (10 is good for most servers)
  timeout: 5000           # Connection timeout in milliseconds

# =============================================================================
# REWARD SETTINGS
# =============================================================================
# Define what rewards players receive when they boost your Discord server.
# You can create multiple reward tiers with different requirements.
#
# COMMAND PREFIXES:
#   - No prefix or "console: " = Run as console (recommended for permissions)
#   - "player: " = Run as the player
#
# EXAMPLES:
#   - "lp user %player% parent add booster"     (Give LuckPerms group)
#   - "give %player% diamond 5"                  (Give items)
#   - "eco give %player% 1000"                   (Give money)
#   - "player: warp boosterzone"                 (Teleport player)
# =============================================================================
rewards:
  booster:
    # Enable/disable this reward tier
    enabled: true
    
    # Permission given to boosters (optional, for permission-based perks)
    permission: "boosterrewards.booster"
    
    # Commands to run when player STARTS boosting
    # These run once when boost is detected
    on-boost:
      - "lp user %player% parent add booster"
      - "give %player% diamond 5"
    
    # Commands to run when player STOPS boosting
    # These run when their boost expires or is removed
    on-stop:
      - "lp user %player% parent remove booster"
    
    # Cooldown before they can receive rewards again (in seconds, 0 = no cooldown)
    cooldown: 0
    
    # If true, rewards can only be claimed once ever (even if they boost again)
    one-time: false

  # Reward tier for the 2nd boost (Nitro users get 2 boosts)
  # This runs IF we can detect a second boost (implied or supported)
  booster_2:
    enabled: false
    permission: "boosterrewards.doublebooster"
    on-boost:
      - "give %player% diamond 10"
      - "msg %player% &dThanks for your second boost!"
    on-stop: []
    cooldown: 0
    one-time: false

  # Example of a secondary reward tier (disabled by default)
  # You can add as many tiers as you want
  Booster-subscriber:
    enabled: false
    role-id: "000000000000000000"  # Specific Discord role to check for
    permission: "boosterrewards.subscriber"
    on-boost:
      - "lp user %player% parent add subscriber"
    on-stop:
      - "lp user %player% parent remove subscriber"

# =============================================================================
# SYNC & VERIFICATION SETTINGS
# =============================================================================
# Controls how often the plugin checks Discord for boost status updates.
# =============================================================================
sync:
  # How often to check all online players' boost status (in seconds)
  # Lower = more accurate but more API calls
  # Recommended: 300 (5 minutes) for most servers
  interval: 300
  
  # Automatically remove rewards when a player stops boosting?
  # If false, they keep rewards forever once obtained
  remove-rewards-on-stop: true
  
  # Check boost status when a player joins the server?
  # Useful for applying rewards immediately on login
  check-on-join: true
  
  # Verify all boosters when the server starts?
  # This syncs the database with current Discord boost status
  verify-on-startup: true
  
  # How to handle multiple reward tiers
  # AGGREGATE = Give all tiers they qualify for
  # HIGHEST   = Only give the highest tier
  rank-mode: AGGREGATE

# =============================================================================
# LINKING SETTINGS
# =============================================================================
# Controls how players link their Minecraft and Discord accounts.
# =============================================================================
linking:
  # ===========================================
  # LINKING MODE (How players start the link)
  # ===========================================
  # This controls which platform initiates the linking process.
  #
  # DISCORD_TO_MINECRAFT (Recommended):
  #   1. Player runs /link in Discord
  #   2. Bot gives them a code (e.g., "ABC123")
  #   3. Player types /link ABC123 in Minecraft
  #   ✅ Best for: Most servers, prevents abuse
  #
  # MINECRAFT_TO_DISCORD:
  #   1. Player runs /link in Minecraft
  #   2. Plugin gives them a code (e.g., "XYZ789")
  #   3. Player types /link XYZ789 in Discord
  #   ✅ Best for: Servers where players are in-game first
  #
  mode: DISCORD_TO_MINECRAFT
  
  # How long a link code is valid (in seconds)
  # After this time, the code expires and they need a new one
  # Default: 300 = 5 minutes
  code-expiry: 300
  
  # Length of the link code
  # 6 = codes like "ABC123" (recommended)
  # 8 = codes like "ABCD1234" (more secure)
  code-length: 6
  
  # Allow players to unlink and relink their account?
  # true  = Players can use /logout and /link again
  # false = Permanent link (contact staff to change)
  allow-relink: true
  
  # Require the user to be a booster BEFORE they can link?
  # true  = Only boosters can link (anti-spam)
  # false = Anyone can link, but only boosters get rewards
  require-boost-to-link: false

# =============================================================================
# FEATURES (Enable/Disable Plugin Features)
# =============================================================================
# Toggle various plugin features on or off.
# =============================================================================
features:
  # DEBUG MODE
  # Prints detailed logs to console for troubleshooting issues.
  # Shows: API calls, database queries, sync operations, etc.
  # ⚠️ Only enable when diagnosing problems - very spammy!
  debug-mode: false
  
  # UPDATE CHECKER
  # Checks for new plugin versions when the server starts.
  # If an update is available, it notifies admins in console.
  # Does NOT auto-update - just informs you.
  update-checker: true
  
  # METRICS (bStats)
  # Sends anonymous usage statistics to bStats.org
  # Helps us understand how the plugin is used to improve it.
  # Data: Server version, player count, Java version (no IPs or names)
  # Disable if you prefer complete privacy.
  metrics: true
  
  # AUTO-CLAIM REWARDS
  # Automatically give rewards when a boost is detected.
  # true  = Rewards are given instantly when boost is detected
  # false = Player must run a command to claim their rewards
  auto-claim: true
  


# =============================================================================
# LINK PANEL (Optional Discord Embed)
# =============================================================================
# Creates a permanent embed in a Discord channel with a "Link Account" button.
# Players click the button instead of using /link in Discord.
# =============================================================================
panel:
  # Enable the link panel feature
  enabled: false
  
  # Channel ID where the panel will be posted
  # (See discord.yml for how to get Channel IDs)
  channel-id: "000000000000000000"
  
  # Automatically update the panel embed periodically
  auto-update: true
  
  # How often to update the panel (in seconds)
  update-interval: 60</code></pre>
      </div>

      <div class="footer-nav">
        <a href="installation.html" class="prev-page">← Previous: Installation</a>
        <a href="discord.html" class="next-page">Next: discord.yml →</a>
      </div>
    </main>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js"></script>
  <script>
    function copyCode(btn) {
      const pre = btn.closest('.code-window').querySelector('pre');
      const code = pre.innerText;
      navigator.clipboard.writeText(code).then(() => {
        const originalText = btn.innerText;
        btn.innerText = 'Copied!';
        setTimeout(() => btn.innerText = originalText, 2000);
      });
    }
  </script>
</body>

</html>